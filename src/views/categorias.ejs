<%- include('partials/_head') %>
<link rel="stylesheet" href="/css/categorias.css">
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/footer.css">

<body>
  <!-- SETA VOLTAR (ACIMA DA NAVBAR) -->
  <div class="voltar-container">
    <button class="voltar" onclick="window.history.back()" aria-label="Voltar">
      <img src="/assets/setinha-cinza.svg" alt="Voltar" width="25" height="25">
    </button>
  </div>

  <!-- NAVBAR -->
  <%- include('partials/_navbar') %>

  <%
    const cat = categoria || '';
    const sub = subcategoria || '';
    const tituloPagina = sub 
      ? (cat + ' › ' + sub) 
      : (cat || 'Todas as receitas');
  %>

  <main style="position:relative;">
    <!-- TUDO AQUI DENTRO VAI SER RENDERIZADO PELO REACT -->
    <div id="categoria-root"></div>

    <!-- PROPS INICIAIS PRO REACT -->
    <script>
      window.__CATEGORIA_PROPS__ = <%- JSON.stringify({
        titulo: tituloPagina,
        recipes: recipes || []
      }) %>;
    </script>
  </main>

  <%- include('partials/_footer') %>

  <!-- JS EXISTENTES (APENAS NAVEGAÇÃO DE CATEGORIA / NAVBAR) -->
  <script src="/js/categorias.js" defer></script>
  <script src="/js/navbar.js" defer></script>

  <!-- REACT UMD -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

  <!-- COMPONENTE REACT DA PÁGINA DE CATEGORIAS -->
  <script src="/js/categoria-react.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
