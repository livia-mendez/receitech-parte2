<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title><%= title || 'Receita Tech' %></title>

    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    >

    <link rel="stylesheet" href="/css/home.css" />
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="/css/footer.css">
  </head>
  <body>
    <%- include('partials/_navbar') %>

    <main>
      <!-- GRID DE RECEITAS -->
      <section class="receitas-grid">
        <% (receitas || []).forEach(function(r){ %>
          <a
            class="receita-card"
            href="/receitas/<%= r.id %>"
            data-categoria="<%= r.categoria || '' %>"
          >
            <img
              src="<%= r.imagem %>"
              alt="<%= r.titulo %>"
              class="receita-imagem"
            />
            <div class="receita-info">
              <h3><%= r.titulo %></h3>
              <div class="tempo">
                <img src="/assets/icon-tempo.png" alt="RelÃ³gio" />
                <span><%= formatTempo(r.tempo) %></span>
              </div>
            </div>
          </a>
        <% }); %>
      </section>

      <!-- CATEGORIAS EM BOLINHAS (fixas na view) -->
      <%
        const categoriasBolinhas = [
          'Bolos e tortas',
          'Carnes',
          'Aves',
          'Peixes e frutos do mar',
          'Saladas e molhos',
          'Sopas',
          'Massas',
          'Bebidas',
          'Lanches',
          'Doces e sobremesas',
        ];

        const catImg = {
          'Bolos e tortas': 'cat-bolos-tortas.png',
          'Carnes': 'cat-carnes.png',
          'Aves': 'cat-aves.jpg',
          'Peixes e frutos do mar': 'cat-peixes.jpg',
          'Saladas e molhos': 'cat-saladas.jpg',
          'Sopas': 'cat-sopas.jpg',
          'Massas': 'cat-massas.png',
          'Bebidas': 'cat-bebidas.jpg',
          'Lanches': 'cat-lanches.jpg',
          'Doces e sobremesas': 'cat-doces.jpg',
        };
      %>

      <section class="categorias-container">
        <% categoriasBolinhas.forEach(function(c){ %>
          <div class="categoria bolinha-categoria" data-categoria="<%= c %>">
            <button class="btn-categoria">
              <img
                src="/assets/categorias/<%= catImg[c] || 'cat-default.png' %>"
                alt="<%= c %>"
              />
              <p><%= c %></p>
            </button>
          </div>
        <% }); %>
      </section>
    </main>
    
    <footer class="footer">
      <p>&copy; 2025 Receita Tech. Todos os direitos reservados.</p>
    </footer>

    <script src="/js/index.js"></script>
    <script src="/js/categorias.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/navbar.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
